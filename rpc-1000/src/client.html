<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>CLIENT</title>

<script src="rpc-bundle.js"></script> 

<script>

var klient = {
  // OUTPUT type method
  throwCard: function(cid){
    //Target Description Object
    return {
      type: 'TABLE', //type of target
      unique: true // is there is only one node of above type, set to TRUE, otherwise FALSE
    };
  },  
  //INPUT type method
  onCardToClient: function(cid){
    // this.source contains source aid:
    console.log('message from: ', this.source); 
    console.log('onCardToClient called with args:', cid+ ' by ');
    //use your OUTPUT method to call methods of end node
    //those methods returns a promise of target response
    // this.throwCard('throwCard').then(function(result){
    //   console.log(result);
    // }); 
    //you should return sth, in order to notify the source about possible issues
    console.log(this.source, this.clients.getClientByAid(this.source));
    return {a: 'hahaha'}; 
  }  
};
var endpoint = new RPC.EndpointManager('http://localhost', klient);
</script>


</head>

<body>
  klient

  <h1 id="aid"></h1>
  <script type="text/javascript">
  document.getElementById('aid').innerHTML = sessionStorage['aid'];
</script>

</body>
</html>


 